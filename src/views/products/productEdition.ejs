<%- include('../partials/head.ejs',{styles: ['base', 'footer', 'header', 'productEdition']}) %>

<body>
    <%- include('../partials/headerAdmin.ejs') %>
    
    <main class="edition-container">

        <h4 class="title">Editar un ingrediente</h4>

        <div class="error">
            <ul></ul>
        </div>
        
        <form action="/products/<%= product.id %>/edit?_method=PUT" method="post">
            
            
            <div class="label-container">
                <label for="name">Nombre del ingrediente:</label>
                <input type="text" id="name" name="name" value="<%= product.name %>">
                <% if (locals.errors && errors.name) { %>
                    <span class="fieldError">
                        <%= errors.name.msg %>
                    </span>
                    <% } %>
            </div>
            
            <div class="label-container">
                <label for="description">Descripción:</label>
                <textarea type="text" name="description" id="description" ><%= product.description %></textarea>
                <% if (locals.errors && errors.description) { %>
                    <span class="fieldError">
                        <%= errors.description.msg %>
                    </span>
                    <% } %>
            </div>
            
            <label for="categoryId">Categoría:</label>
            <select name="categoryId">

                <option value="">Elegí</option>
                <% categories.forEach(category => { %>
                    <option value="<%= category.name %>" <%= product.categories_id == category.id? "selected" : "" %>><%= category.name %></option>
                <% }); %>

            </select>
            <% if (locals.errors && errors.categoryId) { %>
                <span class="fieldError">
                    <%= errors.categoryId.msg %>
                </span>
                <% } %>
            <div class="label-container">
                <label for="price">Precio:</label>
                <input type="number" id="numPrice" name="price" value="<%= product.price %>">
                <% if (locals.errors && errors.price) { %>
                    <span class="fieldError">
                        <%= errors.price.msg %>
                    </span>
                    <% } %>
            </div>
            
            <section class="button-container">
                <button class="btn btn-primary" type="submit">Editar</button>
                
            </section>
        </form>
        
    </main>
    
    <%- include('../partials/footer.ejs') %>
    <script src="/js/productEditionValidation.js"></script>
    
</body>

</html>












